# CPU的结构和功能
## #计组重点 CPU的功能和基本结构
### CPU的功能
1. 控制器的功能：
	1. 取指
	2. 译码
	3. 执行，发出操作命令
	4. 控制程序输入及输出
	5. 总线管理
	6. 处理异常情况和特殊请求
2. 运算器的功能
	1. 实现算数运算和逻辑运算

### CPU结构框图
![image.png](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20230616141717.png)

## 指令周期
- 指令周期：取出并执行一条指令所需的全部时间![image.png](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20230616141837.png)
	- 取指周期
		- 取指
		- 译码
	- 执行周期
		- 执行
- 不同指令的指令周期不同
	- 原因是在执行阶段的访存次数可能不同
	- 或者可能存在中断周期
- 指令周期的流程：![image.png](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20230616141957.png)

## #计组重点 指令流水
> [!note] 并行与并发
> 并行，包括同时性和并发性两个方面：
> 同时性：两个或多个时间在同一时刻发生
> 并发性：两个或多个事件在同一时间段发生
> 也就是说，在同一时刻或同一时间段内完成两种或两种功能，只要时间上互相重叠，就存在并行性

### 影响流水线的因素
1. 结构相关
	1. 当多条指令进入流水线后，硬件资源满足不了指令重叠执行的要求时产生
	2. 可能的情况：
		1. 两条指令同时访存
2. 数据相关
	1. 指令在流水线中重叠执行时，后续的指令需要用到前面指令的执行结果
	2. 可能的情况：
		1. 读后写
		2. 写后读
		3. 写后写
3. 控制相关
	1. 当流水线遇到分支指令和其他改变PC值的指令时引起

### 多发技术
1. 超标量技术：每个时钟周期内科同时并发多条独立指令，以并行的操作方式将多条指令编译并执行
2. 超流水线技术：将一些流水线寄存器插入到流水线段中
3. 超长指令字技术：类似超标量技术，在一个时钟周期中并行处理多条指令

### 流水线性能
1. 吞吐率
2. 加速比
3. 效率
## #计组重点 中断系统
![[中断系统]]