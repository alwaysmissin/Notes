# 数据链路层作业

1. 数据链路层提供的哪些服务? 具有哪些主要功能?

   - 数据链路层提供的服务:
     - 成帧: 在每个网络层数据报经链路传送之前, 链路层协议都会将其用链路层帧封装起来
     - 链路接入: 规定帧在链路上传输的规则
     - 可靠交付: 链路层保证无差错的经链路层移动每个网络层数据报
     - 差错检测和纠正

   - 数据链路层的功能:
     - 将网络层的报文封装成数据帧, 并按顺序发送
     
       - 可靠的传输功能
     
       


2. 总结数据链路层的基本问题及其解决办法

   - 基本问题与解决方法:
     - 封装成帧: 发送结点的数据链路层将网络层的数据报文添加首部和尾部后封装成帧
       - 在网络层报文的前后分别添加首部和尾部(**帧定界**), 构成一个帧<img src="https://jiunian-pic-1310185536.cos.ap-nanjing.myqcloud.com/picgo%2Fimage-20231103213114736.png" alt="image-20231103213114736" style="zoom:67%;" />
       - 帧的首部和尾部中包含有一些重要的**控制信息**
       
     - 透明传输: 数据报文中的任意数据都可以得到传输, 高层应用无须担心特殊字符的传输问题
       
       - 面向字节的物理链路: **字节填充**
       - 面向比特的物理链路: **比特填充**
       
       > 如果不实现透明传输, 链路层可能会将一个帧识别为多个帧<img src="https://jiunian-pic-1310185536.cos.ap-nanjing.myqcloud.com/picgo%2Fimage-20231103213253499.png" alt="image-20231103213253499" style="zoom: 67%;" />
       
     - 差错控制: 由于帧在传输的过程中可能出现误码, 接收方需要根据发送方在帧尾部添加的**检错码**来检测帧是否出现了误码
     
       - 奇偶校验
         - 奇偶校验所存在的问题是**不能检测出偶数位误码**
         
       - 循环冗余校验
         - 基本思想: 
           - 收发双方约定好一个**生成多项式$G(X)$**
           - 发送方基于待发送的数据和生成多项式, **计算出冗余码**, 将冗余码添加到帧尾部
           - 接收方通过生成多项式来计算收到的数据和冗余码是否产生了误码
           
           

3. 比较分析HDLC和PPP协议的异同
- 不同点

|                  | HDLC                                       | PPP                                            |
| ---------------- | ------------------------------------------ | ---------------------------------------------- |
| 面向             | 比特                                       | 字节                                           |
| 是否具有协议字段 | 无                                         | 有                                             |
| 差错检测         | 提供了编号和确认机制<br>能够提供可靠的传输 | 不使用序号和确认机制<br>只保证无差错接收       |
| 链路类型         | 支持全双工和半双工                         | 只支持全双工                                   |
| 配置与协商       | 手动配置<br>不具备灵活的协商机制           | 具有协商机制<br>可以在链路建立过程中协商和配置 |



- 相同点

  - 都采用硬件完成比特填充
  - 都支持同步通信
  - 都使用CRC方法来检测传输中的错误

  

4. PPP协议的LCP子协议中有哪几类报文? 各有什么作用?

   - 链路配置报文: 建立和配置一条链路
- 链路终止报文: 维护和调试一条链路
   - 链路维护报文: 终止一条链路

   

5. 阐述CSMA/CD协议的基本原理, 工作机制和主要特点

   - 基本原理与工作机制:

     - **多址接入**: 多个站点连接在一条总线上, 竞争使用总线
     - **载波监听**: 每个站点在发送帧之前, 先要检测一下总线上是否有其他站点 在发送帧
     - **碰撞检测**: 每个发送帧的站点变发送边检测碰撞

     - 工作机制: 
       - 载波监听: 
         - 若检测到总线空闲96比特时间, 则发送当前帧
         - 若检测到总线比较忙, 则继续检测并且等待总线转为空闲96比特时间
       - 碰撞检测:
         - 一旦发现总线上出现碰撞, 则立即停止发送, 退避一段随机时间后再次从载波监听开始发送

   - 主要特点
     - 只支持半双工
       - 发送数据帧后最多经过$2\uptau$时间, 发送端就可以知道是否遭受了碰撞
       - 为了确保发送端能够在发送完成前检测到碰撞, 采用CSMA/CD的网络必须确定是最小帧长度
       - 范式收到长度小于最小帧长度的帧都是无效帧
       - 检测到碰撞后, 发送端立即停止发送数据, 并发送若干比特烦扰信号通知其他结点
       - 采用CSMA/CD协议的网络的平均通信量远低于其最高数据速率
       
       

6. 阐述经典以太网的基本概念, 比较经典以太网协议与802.3协议在报文格式方面的异同

   - 基本概念: 将许多计算机都连接到一根总线上

   - 经典以太网协议(DIX Ethernet V2)与802.3协议在报文格式方面的异同: 
     - 异
       - 长度/类型字段的含义:
         - DIX Ethernet V2使用类型字段来指示数据类型
         - 802.3使用长度/类型字段来灵活表示数据长度或数据类型
       - 同: 都包含前导码, 起始帧界定符, 目的地址, 原地址, 数据字段, 帧校验序列
       
       

7. 为什么说网桥和交换机隔离了冲突域, 扩大了广播域

   - 隔离冲突域: 当网桥收到一个帧时候, 并不是想所有的接口转发此帧, 而是先检查此帧的目的MAC地址, 然后在确定将该帧转发到哪一个接口, 因此原来的碰撞域依旧是隔离的
   - 扩大广播域: 网桥与交换机使原来属于不同碰撞域的局域网连接, 形成一个更大的广播域

   

8. 什么是虚拟局域网? 为什么说虚拟局域网可以隔离广播风暴和冲突

- 虚拟局域网: 将局域网内的站点划分成与物理位置无关的逻辑组的, 一个逻辑组就是一个VALN, VLAN中的各站点具有某些共同的应用需求
- 隔离广播风暴: 虚拟局域网限制了接收广播信息的节点数, 是网络不会因传播过多的广播信息而引起性能恶化.