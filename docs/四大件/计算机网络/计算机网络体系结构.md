# 计算机网络体系结构
## 网络体系结构的基本思想
- 分层思想: 将一个庞大、复杂的问题分解为若干个相对单一、结构比较简单、处理更为方便的局部问题, 并且逐个解决
- 计算机网络体系结构中的分层思想: 每一层都在自己下层所提供服务的支持下, 通过自身内部功能实现一种或几种特定的服务
> [!note] 计算机网络: 自顶向下方法中的分层体系结构
> 利用分层的体系结构, 我们可以讨论一个大而复杂系统的定义良好的特定部分
> 这种简化本身由于模块化而具有很高的价值, 使某层所提供的的服务实现易于改变. 
> 只需要该层对其上的层提供相同的服务, 并且使用来自下面层次的相同服务, 当某层的实现变化时, 该系统的其余部分保持不变
- 分层思想的优点:
	- 耦合度低
	- 适应性强
	- 易于实现和维护
- 分层的缺点:
	- 一层可能冗余较低层的功能
	- 某层的功能可能需要仅在其他某层才出现的信息
## 计算机网络体系结构
- 各层的所有协议被称为协议栈(protocol stack)
![image.png](https://jiunian-pic-1310185536.cos.ap-nanjing.myqcloud.com/picgo%2F20230923102613.png)
- 因特网的协议栈:
	- 物理层
	- 链路层
	- 网络层
	- 运输层
	- 应用层
- 协议是对等的水平的关系
- 协议的实现是借助下层服务的实现
- 协议实现的目的是为上层提供更好的服务
### 应用层
- 应用层: 是网络应用程序及其应用层协议存留的地方
- 协议: HTTP、SMTP、FTP等
- 在应用层上创建、部署和应用自己的应用层协议是相对简单的
- 报文: 一个端系统中的应用程序使用协议与另一个端系统中的应用程序交换**信息分组**

### 运输层
- 运输层: 在应用程序端点之间传送应用层报文
- 做**进程与进程之间的区分**, 将不可靠变为可靠
- 协议: TCP, UDP
	- TCP将长报文划分为段报文, 并提供拥塞控制机制, 因此当网络拥塞时, 源抑制其传输速率
- 运输层的分组称为报文段

### 网络层
- 因特网的网络层负责将成为数据报的网络层分组从一台主机移动到另一台主机
- 协议: IP, 定义了在数据包中各个字段以及端系统和路由器如何作用域这些字段

### 链路层
- 为了将分组从一个结点(主机或路由器)移动到路径上的下一个结点, 网络层必须依靠链路层提供的服务
- 由链路层提供的服务取决于应用于该链路的特定**链路层协议**
- 链路层分组称为帧

### 物理层
- 物理层的任务是将该帧中的**一个个比特从一个结点移动到下一个结点**
- 协议依旧是与链路像个的, 并且进一步与该链路的实际传输没提相关

> [!note] OSI模型
> 七层: 应用层, 表示层, 会话层, 运输层, 网络层, 数据链路层和物理层
> - 表示层: 使通信的应用程序能够解释交换数据的含义
> - 会话层: 提供了数据交换的定界和同步功能, 包括建立检查点和回复方案的方法

## 封装
![image.png](https://jiunian-pic-1310185536.cos.ap-nanjing.myqcloud.com/picgo%2F20230923103123.png)
> 并非每一个设备都要实现每一层
- 封装的过程: 
	- 在发送主机端, 一个应用层报文被传送给运输层
	- 运输层收到报文并且附上附加信息
		- 应用层报文+运输层首部信息=**运输层报文段**
	- 运输层向网络层传递该报文段
	- 网络层增加如源和目的端系统地址等网络层首部信息, 生成**网络层数据报**
	- 网络层数据报接下来被传输到链路层, 链路层增加其自己的链路层首部信息, 并生成链路层帧