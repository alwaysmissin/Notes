# PA2
## RTFM
> [!note] riscv32如何处理32位的立即数?
> 可以使用两个指令:`addi`,`lui`
> - `lui`:load upper immediate,加载立即数的高位(20位)
> 首先利用lui加载立即数的高20位,在使用`addi`指令,将立即数的低12位加到目标立即数(寄存器)上
> ```risc-v
> lui x3, 0x12345
> addi x3, x3, 0x678
> ```

- 一条指令在nemu中的执行过程:
	- 取指: 将pc存储在`Decode *s`结构体中, 传入`decode_exec`进行译码工作
	- 译码: 利用`INSTPAT`宏和模式识别来进行译码工作, 首先使用`pattern_decode`识别当前的指令, 然后从指令中提取出操作码, 再使用对应isa的`decode_operand`函数提取出对应指令所需要的操作数(统一类别指令的操作数提取方法是固定的, 所以针对不同的类型定制了不同的提取方法, 相比x86方便不少)
	- 执行: 通过C代码进行执行