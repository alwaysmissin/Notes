# 8086指令系统
## 数据传送指令
- 特点：
	- 数据传送过程中不发生任何变化
	- 对标志寄存器的内容物任何影响
	- 数据传送的Copy性质
### 传送指令MOV
```assembly
mov dest, src
mov reg/mem/seg, reg/mem/seg/imm
```
- 执行操作：将1字节或字的操作数**从源地址src传送至目的地址dest**
	- 源操作数可以是**立即数、寄存器或主存单元**
	- 目的操作数可以是**寄存器或主存单元**
- 大小（字与字节）要匹配
- 两个段寄存器之间不能直接传送数据
- 立即数不能直接送入段寄存器`mov ds, 100h

### 交换指令XCHG
```assembly
XCHG OPRD1, OPRD2
XCHG reg/mem, reg/mem
```
- 执行操作：将两个操作数的内容互换，可以在通用寄存器与通用寄存器或存储器之间交换数据
- 注意：
	- 不允许使用段寄存器、IP
	- 不能同时为内存
	- 交换的类型需要匹配

### 换码指 令XLAT
```assembly
XLAT
```
- 执行操作：$AL\leftarrow DS:(BX)+(AL)$所指的单元内容
- 使用该指令之前的预先工作：
	- 将**表的首地址**（偏移地址）$\rightarrow$ BX
	- 将信息**在表中的行号**$\rightarrow$AL
- 用途：查表
- 代码等价于：
	```assembly
	mov ah, 0
	add bx, ax
	mov al, [BX]
	```
- 使用例子：![](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20221206145358.png)![](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20221206145410.png)
### 堆栈操作指令
>[!为什么需要堆栈]
>- 函数调用：断点和局部变量，参数的保存
>- 临时存放数据，以便随时回复数据
#### 进栈指令PUSH
```assembly
PUSH src
PUSH reg16/seg/mem16
```
- 功能：先使堆栈指针$SP-2$，然后把一个字操作数存入栈顶（$(SP)-2\rightarrow SP, (Src)\rightarrow SS:SP$）
- 注
	- **必须是字**
	- 尽量不要使用`PUSH SP`
#### 出栈指令POP
```assembly
POP Dst
POP reg16/seg/mem16
```
- 功能：把栈顶的一个字传送至置顶的目的操作数，然后堆栈指针$SP+2$（$(SS:SP)\rightarrow Dst, (SP)+2\rightarrow SP$）

### 标志寄存器传送指令
- 标志寄存处传送指令用来传送标志寄存器的内容
#### 标志寄存器传送指令
![](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20221206151609.png)
### 标志位操作
![](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20221206152011.png)

### 地址传送指令
#### 有效地址传送指令LEA
```assembly
LEA Dst, Src
LEA r16, mem
```
- 功能：$Dst\leftarrow Src的偏移地址$
- 注：Dst为16位地址寄存器，Src为内存
	- 这里的到的是主存单元中的有效地址，不是物理地址
#### 指针传送指令
```assembly
LDS Dst, Mem32
LES Dst, Mem32

LDS r16, mem
LES r16, mem
```
- 功能：
	- LDS：Mem32的低字$\rightarrow$Dst，高字$\rightarrow$DS
	- LES：Mem32的低字$\rightarrow$Dst，高字$\rightarrow$ES

## 算数运算指令
### 加法指令
#### ADD
```assembly
ADD dst, src
```
- 功能：$Dst\leftarrow Dst+Src$
#### ADC
```assembly
ADC dst, src
```
- 功能：$Dst \leftarrow Dst + Src + CF$
- 用途：用于多字节数相加，不单独使用
> [!多字节数相加]
> ![](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20221206153219.png)
#### INC
```assembly
INC OP
```
- 功能：$OP\rightarrow OP +1$
- 注：INC不影响CF标志
### 减法指令
#### SUB
```assembly
SUB Dst, Src
```
- 功能：$Dst\leftarrow Dst-Src$
#### SBB
```assembly
SBB Dst, Src
```
- 功能：$Dst\leftarrow Dst-Src-CF$
- 用途：多字节数相减，不单独使用
> [!多字节数相减]
> ![](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20221206153536.png)
#### DEC
```assembly
DEC OP
```
- 功能：$OP\leftarrow OP -1$
- 注：不影响CF
#### NEG
```assembly
NEG OP
```
- 功能：求补$OP\leftarrow \bar{OP}+1$
- 说明：
	- 以$0-OP$判断标志位
	- 仅当$OP=0$时，$CF=0$否则$CF=1$
	- 仅当$OP=-128 /-32768$时，$OF=1$否则$OF=0$
#### CMP
```assembly
CMP Dst, Src
```
- 功能：$Dst-Src$结果的特征状态$\rightarrow F$，不影响$Dst$与$Src$

![](https://raw.githubusercontent.com/alwaysmissin/picgo/main/20221206154040.png)

### 乘法指令
#### MUL
```assembly
MUL Src
```
### 除法指令
